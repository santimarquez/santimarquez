---
import MainLayout from '../../../../layouts/MainLayout.astro';
import { getRelativeLocaleUrl } from 'astro:i18n';
import { t } from '../../../../utils/i18n';

const locale = 'es';
const tBind = (key: string) => t(locale, key);
const backHref = getRelativeLocaleUrl(locale, '/');

const stackPills = ['Astro 4', 'TypeScript', 'TailwindCSS', 'Motion One', 'View Transitions', 'i18n (EN/ES)', 'Docker', 'Nginx', 'Cursor'];

const aiFlowDiagram = `flowchart LR
  Cursor[Cursor] --> Rules[.cursorrules / CURSOR.md]
  Rules --> Context[ai/context]
  Context --> Skills[ai/skills]
  Context --> Agents[ai/agents]
  Context --> Prompts[ai/prompts]
  Skills --> Out[Consistent code and docs]
  Agents --> Out
  Prompts --> Out`;
---

<MainLayout locale={locale} title="santimarquez.es — Santi Márquez" description="Este sitio. Desarrollo aumentado por IA, Cursor, context, skills, agents, prompts. Posicionamiento de liderazgo.">
  <article class="px-4 py-12 sm:px-6 sm:py-16 md:py-24">
    <div class="mx-auto max-w-4xl">
      <a href={backHref} class="inline-flex items-center gap-2 text-sm font-medium text-charcoal-light hover:text-accent dark:text-slate-400 dark:hover:text-accent">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
        Volver
      </a>

      <header class="mt-8">
        <h1 class="text-3xl font-bold text-charcoal dark:text-slate-100 md:text-4xl">santimarquez.es</h1>
        <p class="mt-4 text-lg leading-relaxed text-charcoal-light dark:text-slate-400">{tBind('projects.thisSite.description')}</p>
      </header>

      <!-- Lead: AI-first -->
      <section class="mt-12">
        <h2 class="text-xl font-bold text-charcoal dark:text-slate-100">Desarrollo aumentado por IA</h2>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          Este sitio se ha construido y se mantiene con el desarrollo aumentado por IA en mente. El repositorio está estructurado para que un asistente de IA (por ejemplo Cursor) pueda incorporarse rápido, seguir patrones consistentes y ejecutar flujos definidos para documentación, revisión de código y SEO. Esa estructura es un escaparate deliberado de cómo aprovechar los LLM para obtener resultados más rápidos y consistentes sin perder calidad—directamente aplicable a equipos de producto y liderazgo técnico.
        </p>
      </section>

      <!-- AI infrastructure -->
      <section class="mt-12">
        <h2 class="text-xl font-bold text-charcoal dark:text-slate-100">Infraestructura IA: cómo está pensado el repo para IA</h2>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          <strong>Context (ai/context/):</strong> Conocimiento vivo del proyecto: PROJECT_STRUCTURE (dónde van los archivos), RECENT_CHANGES (últimas decisiones), COMMON_PATTERNS (Astro, Tailwind, Motion One), TECH_STACK, CODING_STANDARDS. Fuente única de verdad para que cualquier IA o desarrollador se alinee con las convenciones.
        </p>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          <strong>Skills (ai/skills/):</strong> Patrones reutilizables para tareas habituales: componentes Astro, secciones Tailwind, uso de Motion One, i18n, diagramas SVG. Se referencian en el chat para que las generaciones mantengan la marca y la consistencia.
        </p>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          <strong>Agents (ai/agents/):</strong> Flujos multi-paso (p. ej. documentación, revisión de código, comprobaciones SEO) que Cursor puede ejecutar de punta a punta.
        </p>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          <strong>Prompts (ai/prompts/):</strong> Plantillas para revisión de código, transformación de copy (CV a frases de impacto), documentación y generación de diagramas.
        </p>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          <strong>Integración con Cursor:</strong> <code class="rounded bg-slate-200 px-1 dark:bg-slate-700">.cursorrules</code> y CURSOR.md (y CURSOR_QUICK_START.md) son cargados por Cursor; definen stack, sistema de diseño, i18n, ubicación de archivos y ejemplos de prompts. La carpeta ai/ es el contexto ampliado para estructura y patrones.
        </p>

        <div class="mt-8 overflow-x-auto rounded-xl border border-slate-200 bg-slate-50/50 p-4 dark:border-slate-700 dark:bg-slate-800/30">
          <pre class="mermaid text-sm">{aiFlowDiagram}</pre>
        </div>
      </section>

      <!-- Capabilities this demonstrates -->
      <section class="mt-12">
        <h2 class="text-xl font-bold text-charcoal dark:text-slate-100">Capacidades que demuestra</h2>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          Estructurar el conocimiento del proyecto para LLM (contexto, convenciones, patrones); ingeniería de prompts (skills y plantillas que producen resultados predecibles y alineados con la marca); diseño de flujos (agents para documentación y comprobaciones de calidad); calidad reproducible (a11y, SEO, sistema de diseño) mediante flujos asistidos por IA. Son las mismas capacidades necesarias para introducir o escalar el desarrollo aumentado por IA en un equipo o producto—incorporación, consistencia y guardarraíles.
        </p>
      </section>

      <!-- What the site delivers -->
      <section class="mt-12">
        <h2 class="text-xl font-bold text-charcoal dark:text-slate-100">Qué ofrece el sitio</h2>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          El resultado es un sitio estático listo para producción (Astro, TypeScript, Tailwind, Motion One, i18n EN/ES, Docker, Nginx, Traefik-ready). SEO, esquema Person, sitemap, a11y orientado a WCAG. El stack se ha elegido por rendimiento y simplicidad; la capa de IA es lo que mantiene el desarrollo y el mantenimiento eficientes y consistentes.
        </p>
      </section>

      <!-- Tech stack pills -->
      <section class="mt-12">
        <h2 class="text-xl font-bold text-charcoal dark:text-slate-100">Stack técnico</h2>
        <div class="mt-4 flex flex-wrap gap-2">
          {stackPills.map((tech) => (
            <span class="rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-sm font-medium text-charcoal-light dark:border-slate-600 dark:bg-slate-700/50 dark:text-slate-300">{tech}</span>
          ))}
        </div>
      </section>

      <!-- Outcome -->
      <section class="mt-12">
        <h2 class="text-xl font-bold text-charcoal dark:text-slate-100">Resultado</h2>
        <p class="mt-3 text-charcoal-light dark:text-slate-400">
          Este repositorio sirve además como referencia para estructurar un proyecto para desarrollo aumentado por IA—contexto claro, skills reutilizables y flujos definidos que mantienen la calidad y la consistencia altas mientras se avanza más rápido.
        </p>
      </section>
    </div>
  </article>
  <script>
    async function runMermaid() {
      try {
        const mermaid = (await import('mermaid')).default;
        mermaid.initialize({ startOnLoad: false, theme: 'neutral' });
        await mermaid.run({ querySelector: '.mermaid', suppressErrors: true });
      } catch (_) {}
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', runMermaid);
    } else {
      runMermaid();
    }
    document.addEventListener('astro:page-load', runMermaid);
  </script>
</MainLayout>
